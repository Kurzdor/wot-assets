(()=>{"use strict";var __webpack_modules__={310:(e,t,n)=>{n.d(t,{Z:()=>r});class o{constructor(){this._callbacks=void 0,this._updateHandler=void 0,this._views=void 0,this.clearViewCallbacks=e=>{this._views[e]&&(this._views[e].forEach((e=>{delete this._callbacks[e]})),delete this._views[e])},this._callbacks={},this._views={},this._updateHandler=void 0}static get instance(){return window.__dataTracker||(window.__dataTracker=new o),window.__dataTracker}clear(){void 0!==this._updateHandler&&(this._updateHandler.clear(),this._updateHandler=void 0),this._callbacks={}}addCallback(e,t,n=0,o=!0){void 0===this._updateHandler&&(this._updateHandler=engine.on("viewEnv.onDataChanged",this._emmitDataChanged,this));const r=viewEnv.addDataChangedCallback(e,n,o);return r>0?(this._callbacks[r]=t,n>0&&(this._views[n]?this._views[n].push(r):this._views[n]=[r])):console.error("Can't add callback for model:",e),r}removeCallback(e,t=0){let n=!1;return void 0!==e&&void 0!==this._callbacks[e]&&(n=viewEnv.removeDataChangedCallback(e,t),delete this._callbacks[e]),n||console.error("Can't remove callback by id:",e),n}_emmitDataChanged(e,t,n){n.forEach((n=>{const o=this._callbacks[n];void 0!==o&&o(e,t)}))}}o.__instance=void 0;const r=o},421:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _DataTracker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(310),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(461);class ViewModel{constructor(path,watchingFields=[]){this.dataTracker=void 0,this.modelPath=void 0,this.callbacks=void 0,this.data=void 0,this._notifyObservers=()=>{this.data=eval(this.modelPath),this.callbacks.forEach((e=>{e(this.data)}))},this.dataTracker=new _DataTracker__WEBPACK_IMPORTED_MODULE_0__.Z,this.modelPath=path,this.callbacks=new Set,(0,_index__WEBPACK_IMPORTED_MODULE_1__.ry)().then((()=>{this._addCallback(path),watchingFields.forEach((e=>{this._addCallback(path+"."+e)})),this._notifyObservers()}))}subscribe(e){this.callbacks.add(e),null!==this.data&&void 0!==this.data&&e(this.data)}unsubscribe(e){this.callbacks.delete(e)}destroy(){this.dataTracker.clear(),this.callbacks.clear()}_addCallback(e){this.dataTracker.addCallback(e,this._notifyObservers)}}const __WEBPACK_DEFAULT_EXPORT__=ViewModel},461:(e,t,n)=>{n.d(t,{ry:()=>w,Eu:()=>y});class o{constructor(){this.entries=[],this._listenMouse=!1,this.onMouseDown=e=>{this.entries.forEach((({container:t,callback:n})=>{let o=e.target;do{if(o===t)return;o=o.parentNode}while(o);n()}))}}static get instance(){return o.__instance||(o.__instance=new o),o.__instance}register(e,t){this.addMouseListener(),this.entries.push({container:e,callback:t})}unregister(e,t){const n=e,o=t;this.entries=this.entries.filter((({container:e,callback:t})=>e!==n||t!==o)),this.removeMouseListener()}addMouseListener(){this._listenMouse||(document.addEventListener("mousedown",this.onMouseDown),this._listenMouse=!0)}removeMouseListener(){this._listenMouse&&0===this.entries.length&&(document.removeEventListener("mousedown",this.onMouseDown),this._listenMouse=!1)}}o.__instance=void 0;const r=o;var i=n(310);const s={getNumberFormat:(e,t)=>systemLocale.getNumberFormat(e,t),getRealFormat:(e,t)=>systemLocale.getRealFormat(e,t),getTimeFormat:(e,t)=>systemLocale.getTimeFormat(e,t),getDateFormat:(e,t)=>systemLocale.getDateFormat(e,t),toUpperCase:e=>systemLocale.toUpperCase(e),toLowerCase:e=>systemLocale.toUpperCase(e)},a={getNumberFormat:e=>userLocale.getNumberFormat(e),getTimeFormat:(e,t,n)=>userLocale.getTimeFormat(e,t,void 0===n||n),getTimeString:(e,t,n)=>userLocale.getTimeString(e,t,void 0===n||n)};let c;var l;(l=c||(c={}))[l.UNDEFINED=0]="UNDEFINED",l[l.TOOLTIP=1]="TOOLTIP",l[l.POP_OVER=2]="POP_OVER",l[l.CONTEXT_MENU=4]="CONTEXT_MENU",l[l.DROP_DOWN=8]="DROP_DOWN",l[l.MOVE=16]="MOVE",l[l.CLOSE=32]="CLOSE",l[l.MINIMIZE=64]="MINIMIZE";const d=Object.freeze({INTEGRAL:0,GOLD:1}),u=Object.freeze({FRACTIONAL:0,WO_ZERO_DIGITS:1}),h=Object.freeze({SHORT_FORMAT:0,LONG_FORMAT:1}),f=Object.freeze({SHORT_FORMAT:0,LONG_FORMAT:1,YEAR_MONTH:2});let v,_;!function(e){e[e.ALT=164]="ALT",e[e.ENTER=13]="ENTER",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.PLUS=187]="PLUS",e[e.MINUS=189]="MINUS",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE",e[e.TAB=9]="TAB",e[e.KEY_N=78]="KEY_N",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9"}(v||(v={})),function(e){e.ALT="Alt",e.ALT_GRAPH="AltGraph",e.CAPS_LOCK="CapsLock",e.CONTROL="Control",e.FN="Fn",e.FN_LOCK="FnLock",e.META="Meta",e.NUM_LOCK="NumLock",e.SCROLL_LOCK="ScrollLock",e.SHIFT="Shift",e.SYMBOL="Symbol",e.SYMBOL_LOCK="SymbolLock"}(_||(_={}));const p=["args"];function m(e,t,n,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,r)}const b=e=>({__Type:"GFBoundingBox",x:e.x,y:e.y,width:e.width,height:e.height}),w=function(){var e,t=(e=function*(){return!(!engine._BindingsReady||!engine._WindowLoaded)||new Promise((e=>{engine.on("Ready",e)}))},function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){m(i,o,r,s,a,"next",e)}function a(e){m(i,o,r,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),y=()=>new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{e()}))}))})),g=(e,t)=>{const n="GFViewEventProxy";if(void 0!==t){const r=t.args,i=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,p);void 0!==r?viewEnv.handleViewEvent(Object.assign({__Type:n,type:e},i,{arguments:(o=r,Object.entries(o).map((([e,t])=>{const n={__Type:"GFValueProxy",name:e};switch(typeof t){case"number":n.number=t;break;case"boolean":n.bool=t;break;default:n.string=t.toString()}return n})))})):viewEnv.handleViewEvent(Object.assign({__Type:n,type:e},i))}else viewEnv.handleViewEvent({__Type:n,type:e});var o},E=()=>g(c.CLOSE),O=(e,t)=>{e.keyCode===v.ESCAPE&&t()};var M=n(421);const T=r.instance,C={DataTracker:i.Z,ViewModel:M.Z,ViewEventType:c,NumberFormatType:d,RealFormatType:u,TimeFormatType:h,DateFormatType:f,makeGlobalBoundingBox:b,sendMoveEvent:e=>g(c.MOVE,{isMouseEvent:!0,on:e}),sendCloseEvent:E,sendClosePopOverEvent:()=>g(c.POP_OVER,{on:!1}),sendShowContextMenuEvent:(e,t,n=0)=>{g(c.CONTEXT_MENU,{isMouseEvent:!0,contentID:e,on:!0,decoratorID:n,args:t})},sendShowPopOverEvent:(e,t,n,o,r)=>{const i=viewEnv.getViewGlobalPosition(),s=n.getBoundingClientRect(),a=s.x,l=s.y,d=s.width,u=s.height,h={x:viewEnv.pxToRem(a+i.x),y:viewEnv.pxToRem(l+i.y),width:viewEnv.pxToRem(d),height:viewEnv.pxToRem(u)};g(c.POP_OVER,{isMouseEvent:!0,contentID:e,decoratorID:o||R.invalid("resId"),direction:t,bbox:b(h),on:!0,args:r})},addEscapeListener:e=>{const t=t=>O(t,e);return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},closeOnEsc:e=>{O(e,E)},handleViewEvent:g,onBindingsReady:w,onLayoutReady:y,onWindowLoaded:()=>new Promise((e=>{engine.on("windowLoaded",e)})),isTooltipShown:()=>viewEnv.isWindowShownByViewEvent(c.TOOLTIP),isContextMenuShown:()=>viewEnv.isWindowShownByViewEvent(c.CONTEXT_MENU),isPopOverShown:()=>viewEnv.isWindowShownByViewEvent(c.POP_OVER),dumpViewModel:function e(t){const n={};if("object"!=typeof t)return t;for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const r=Object.prototype.toString.call(t[o]);if(r.startsWith("[object CoherentArrayProxy]")){const r=t[o];n[o]=[];for(let t=0;t<r.length;t++)n[o].push({value:e(r[t].value)})}else r.startsWith("[object class BW::WULF::ViewModel")?n[o]=e(t[o]):n[o]=t[o]}return n},ClickOutsideManager:T,SystemLocale:s,UserLocale:a};window.ViewEnvHelper=C}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{function e(){if(!(this instanceof e))return new e;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var t=window.document.documentElement,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;e.prototype.matchesSelector=function(e,t){return n.call(e,t)},e.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},e.prototype.indexes=[];var o=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(o))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var r=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(r))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var i,s=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(s))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},i="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function c(e,t){var n,o,r,i,s,c,l=(e=e.slice(0).concat(e.default)).length,d=t,u=[];do{if(a.exec(""),(r=a.exec(d))&&(d=r[3],r[2]||!d))for(n=0;n<l;n++)if(s=(c=e[n]).selector(r[1])){for(o=u.length,i=!1;o--;)if(u[o].index===c&&u[o].key===s){i=!0;break}i||u.push({index:c,key:s});break}}while(r);return u}function l(e,t){var n,o,r;for(n=0,o=e.length;n<o;n++)if(r=e[n],t.isPrototypeOf(r))return r}function d(e,t){return e.id-t.id}e.prototype.logDefaultIndexUsed=function(){},e.prototype.add=function(e,t){var n,o,r,s,a,d,u,h,f=this.activeIndexes,v=this.selectors,_=this.selectorObjects;if("string"==typeof e){for(_[(n={id:this.uid++,selector:e,data:t}).id]=n,u=c(this.indexes,e),o=0;o<u.length;o++)s=(h=u[o]).key,(a=l(f,r=h.index))||((a=Object.create(r)).map=new i,f.push(a)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(d=a.map.get(s))||(d=[],a.map.set(s,d)),d.push(n);this.size++,v.push(e)}},e.prototype.remove=function(e,t){if("string"==typeof e){var n,o,r,i,s,a,l,d,u=this.activeIndexes,h=this.selectors=[],f=this.selectorObjects,v={},_=1===arguments.length;for(n=c(this.indexes,e),r=0;r<n.length;r++)for(o=n[r],i=u.length;i--;)if(a=u[i],o.index.isPrototypeOf(a)){if(l=a.map.get(o.key))for(s=l.length;s--;)(d=l[s]).selector!==e||!_&&d.data!==t||(l.splice(s,1),v[d.id]=!0);break}for(r in v)delete f[r],this.size--;for(r in f)h.push(f[r].selector)}},e.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,o,r,i,s,a,c,l={},u=[],h=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,o=h.length;t<o;t++)for(i=h[t],n=0,r=(s=this.matches(i)).length;n<r;n++)l[(c=s[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(i);return u.sort(d)},e.prototype.matches=function(e){if(!e)return[];var t,n,o,r,i,s,a,c,l,u,h,f=this.activeIndexes,v={},_=[];for(t=0,r=f.length;t<r;t++)if(c=(a=f[t]).element(e))for(n=0,i=c.length;n<i;n++)if(l=a.map.get(c[n]))for(o=0,s=l.length;o<s;o++)!v[h=(u=l[o]).id]&&this.matchesSelector(e,u.selector)&&(v[h]=!0,_.push(u));return _.sort(d)};var u=null,h=null,f=[];function v(e,t){var n=[];function o(){var e=n;n=[],t(e)}return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];n.push(r),1===n.length&&_(e,o)}}function _(e,t){h||(h=new MutationObserver(p)),u||(u=e.createElement("div"),h.observe(u,{attributes:!0})),f.push(t),u.setAttribute("data-twiddle",""+Date.now())}function p(){var e=f;f=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(e){setTimeout((function(){throw e}),0)}}var m=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap;function g(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o[0],i=o[1],s=o[2];r===S?(E(s,i),O(s,i)):r===k?M(s,i):r===L&&T(e.observers,i)}}function E(e,t){if(t instanceof e.elementConstructor){var n=m.get(t);if(n||(n=[],m.set(t,n)),-1===n.indexOf(e.id)){var o=void 0;if(e.initialize&&(o=e.initialize.call(void 0,t)),o){var r=b.get(t);r||(r={},b.set(t,r)),r[""+e.id]=o}n.push(e.id)}}}function O(e,t){if(t instanceof e.elementConstructor){var n=y.get(t);if(n||(n=[],y.set(t,n)),-1===n.indexOf(e.id)){e.elements.push(t);var o=b.get(t),r=o?o[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var i=e.subscribe.call(void 0,t);if(i){var s=w.get(t);s||(s={},w.set(t,s)),s[""+e.id]=i}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function M(e,t){if(t instanceof e.elementConstructor){var n=y.get(t);if(n){var o=e.elements.indexOf(t);if(-1!==o&&e.elements.splice(o,1),-1!==(o=n.indexOf(e.id))){var r=b.get(t),i=r?r[""+e.id]:null;if(i&&i.remove&&i.remove.call(void 0,t),e.subscribe){var s=w.get(t),a=s?s[""+e.id]:null;a&&a.unsubscribe&&a.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(o,1)}0===n.length&&y.delete(t)}}}function T(e,t){var n=y.get(t);if(n){for(var o=n.slice(0),r=0;r<o.length;r++){var i=e[o[r]];if(i){var s=i.elements.indexOf(t);-1!==s&&i.elements.splice(s,1);var a=b.get(t),c=a?a[""+i.id]:null;c&&c.remove&&c.remove.call(void 0,t);var l=w.get(t),d=l?l[""+i.id]:null;d&&d.unsubscribe&&d.unsubscribe(),i.remove&&i.remove.call(void 0,t)}}y.delete(t)}}var C=null;function A(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var S=1,k=2,L=3;function R(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if(A(r))for(var i=e.selectorSet.matches(r),s=0;s<i.length;s++){var a=i[s].data;t.push([S,r,a])}if("querySelectorAll"in r)for(var c=e.selectorSet.queryAll(r),l=0;l<c.length;l++)for(var d=c[l],u=d.data,h=d.elements,f=0;f<h.length;f++)t.push([S,h[f],u])}}function x(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if("querySelectorAll"in r){t.push([L,r]);for(var i=r.querySelectorAll("*"),s=0;s<i.length;s++)t.push([L,i[s]])}}}function I(e,t,n){if(A(n))for(var o=e.selectorSet.matches(n),r=0;r<o.length;r++){var i=o[r].data;t.push([S,n,i])}if("querySelectorAll"in n){var s=y.get(n);if(s)for(var a=0;a<s.length;a++){var c=e.observers[s[a]];c&&(e.selectorSet.matchesSelector(n,c.selector)||t.push([k,n,c]))}}}var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=0;function D(t){this.rootNode=9===t.nodeType?t.documentElement:t,this.ownerDocument=9===t.nodeType?t:t.ownerDocument,this.observers=[],this.selectorSet=new e,this.mutationObserver=new MutationObserver(W.bind(this,this)),this._scheduleAddRootNodes=v(this.ownerDocument,U.bind(this,this)),this._handleThrottledChangedTargets=v(this.ownerDocument,q.bind(this,this)),this.rootNode.addEventListener("change",j.bind(this,this),!1),function(e,t){var n=e.readyState;"interactive"===n||"complete"===n?_(e,t):e.addEventListener("DOMContentLoaded",_(e,t))}(this.ownerDocument,F.bind(this,this))}function F(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function U(e){var t=[];R(e,t,[e.rootNode]),g(e,t)}function W(e,t){var n=[];(function(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];"childList"===r.type?(R(e,t,r.addedNodes||[]),x(0,t,r.removedNodes||[])):"attributes"===r.type&&I(e,t,r.target)}(function(e){if(null===C){var t=e.createElement("div"),n=e.createElement("div"),o=e.createElement("div");t.appendChild(n),n.appendChild(o),t.innerHTML="",C=o.parentNode!==n}return C})(e.ownerDocument)&&function(e,t){for(var n=0;n<e.observers.length;n++){var o=e.observers[n];if(o)for(var r=o.elements,i=0;i<r.length;i++){var s=r[i];s.parentNode||t.push([L,s])}}}(e,t)})(e,n,t),g(e,n)}function j(e,t){e._handleThrottledChangedTargets(t.target)}function q(e,t){var n=[];!function(e,t,n){for(var o=0;o<n.length;o++)for(var r=n[o],i=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),s=0;s<i.length;s++)I(e,t,i[s])}(e,n,t),g(e,n)}D.prototype.disconnect=function(){this.mutationObserver.disconnect()},D.prototype.observe=function(e,t){var n=void 0;"function"==typeof t?n={selector:e,initialize:t}:"object"===(void 0===t?"undefined":P(t))?(n=t).selector=e:n=e;var o=this,r={id:N++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){o._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},D.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)M(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},D.prototype.triggerObservers=function(e){var t=[];!function(e,t,n){if("querySelectorAll"in n){I(e,t,n);for(var o=n.querySelectorAll("*"),r=0;r<o.length;r++)I(e,t,o[r])}}(this,t,e),g(this,t)};var B=void 0;function V(){return B||(B=new D(window.document)),B}var K=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),z="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,G=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),H="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(G):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Y=["top","right","bottom","left","width","height","size","weight"],Z="undefined"!=typeof MutationObserver,X=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function i(){n&&(n=!1,e()),o&&a()}function s(){H(i)}function a(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(s,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){z&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){z&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Y.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),J=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},$=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||G},Q=re(0,0,0,0);function ee(e){return parseFloat(e)||0}function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ee(e["border-"+n+"-width"])}),0)}var ne="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof $(e).SVGGraphicsElement}:function(e){return e instanceof $(e).SVGElement&&"function"==typeof e.getBBox};function oe(e){return z?ne(e)?function(e){var t=e.getBBox();return re(0,0,t.width,t.height)}(e):function(e){var t=e.offsetWidth,n=e.offsetHeight;if(!t&&!n)return Q;var o=$(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=e["padding-"+r];t[r]=ee(i)}return t}(o),i=r.left+r.right,s=r.top+r.bottom,a=ee(o.width),c=ee(o.height);if("border-box"===o.boxSizing&&(Math.round(a+i)!==t&&(a-=te(o,"left","right")+i),Math.round(c+s)!==n&&(c-=te(o,"top","bottom")+s)),!function(e){return e===$(e).document.documentElement}(e)){var l=Math.round(a+i)-t,d=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(d)&&(c-=d)}return re(r.left,r.top,a,c)}(e):Q}function re(e,t,n,o){return{x:e,y:t,width:n,height:o}}var ie=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=re(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=oe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),se=function(e,t){var n,o,r,i,s,a,c,l=(o=(n=t).x,r=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),J(c,{x:o,y:r,width:i,height:s,top:r,right:o+i,bottom:s+r,left:o}),c);J(this,{target:e,contentRect:l})},ae=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new K,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ie(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new se(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ce="undefined"!=typeof WeakMap?new WeakMap:new K,le=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=X.getInstance(),o=new ae(t,n,this);ce.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){le.prototype[e]=function(){var t;return(t=ce.get(this))[e].apply(t,arguments)}}));const de=void 0!==G.ResizeObserver?G.ResizeObserver:le;var ue,he=__webpack_require__(461);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ve(e,t,n,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,r)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){ve(i,o,r,s,a,"next",e)}function a(e){ve(i,o,r,s,a,"throw",e)}s(void 0)}))}}!function(e){e["nth-child"]="nth-child"}(ue||(ue={}));const pe=new Map,me=e=>{if("HTML"===e.nodeName)return{el:e,native:!0};const t=e.parentNode;if(t){if(t.className.includes("ScrollArea_base"))return{el:t,native:!1};const e=getComputedStyle(t).overflow;return"scroll"===e||"auto"===e?{el:t,native:!0}:me(t)}},be=function(){var e=_e((function*({scrollableContainer:e,el:t,componentId:n,viewId:o}){yield(0,he.Eu)();const r=t.getBoundingClientRect(),i=((e,t)=>{const n=e.top-t.top<=t.height&&e.top+e.height-t.top>=0,o=e.left-t.left<=t.width&&e.left+e.width-t.left>=0;return n&&o})(r,e.el.getBoundingClientRect());if(i){const e=window.tutorialModel.foundComponents.items.filter((e=>Boolean(e)&&e.value.componentId===n))[0];if(e){const t=e.value;t.rect.x=r.x,t.rect.y=r.y,t.rect.width=r.width,t.rect.height=r.height,window.tutorialModel.onComponentUpdate({componentId:n,viewId:o})}}}));return function(t){return e.apply(this,arguments)}}(),we=e=>{const t=window.tutorialModel.descriptions.views.filter((t=>t.value.viewId===e))[0];if(t){const n=t.value.components;window.addEventListener("resize",(()=>{pe.forEach((({el:t,scrollableContainer:n},o)=>{be({scrollableContainer:n,el:t,componentId:o,viewId:e})}))})),n.length&&n.forEach((({value:{path:e,componentId:t,viewId:n}})=>{if(!e)return;let o=-1;const r=e.split(":"),i=r[0],s=r.slice(1).reduce(((e,t)=>{const n=t.split(/\(([^)]+)\)/),o=n[0],r=n[1],i=parseInt(r);return e[o]=isNaN(i)?r:i,e}),{}),a=new de((e=>{const o=window.tutorialModel.foundComponents.items.filter((e=>Boolean(e)&&e.value.componentId===t))[0];if(o){const s=o.value;for(var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(r=i()).done;){const e=r.value.contentRect,o=e.width,i=e.height;s.rect.width=o,s.rect.height=i,window.tutorialModel.onComponentUpdate({componentId:t,viewId:n})}}}));!function(){var e;(e=V()).observe.apply(e,arguments)}(i,{initialize(e){if(s[ue["nth-child"]]>0&&(o++,o!==s[ue["nth-child"]]))return;const r=me(e),i=function(){var o=_e((function*(){be({scrollableContainer:r,el:e,componentId:t,viewId:n})}));return function(){return o.apply(this,arguments)}}();let c;return{add:()=>_e((function*(){pe.set(t,{el:e,scrollableContainer:r}),yield(0,he.Eu)(),yield(0,he.Eu)(),r&&(r.native?r.el.addEventListener("scroll",i):(r.el.addEventListener("ps-scroll-x",i),r.el.addEventListener("ps-scroll-y",i))),a.observe(e);const o=e.getBoundingClientRect();let s=o.x,l=o.y;window.tutorialModel.onComponentFound({componentId:t,viewId:n,x:s,y:l,width:o.width,height:o.height}),c=window.setInterval((()=>{if((()=>{const t=e.getBoundingClientRect(),n=t.x!==s||l!==t.y;return s=t.x,l=t.y,n})()){const e=window.tutorialModel.foundComponents.items.filter((e=>Boolean(e)&&e.value.componentId===t));if(e.length>0){const o=e[0].value;o.rect.x=s,o.rect.y=l,window.tutorialModel.onComponentUpdate({componentId:t,viewId:n})}}else clearInterval(c)}),100)}))(),remove(){clearInterval(c),pe.delete(t),o=-1,r&&(r.native?r.el.removeEventListener("scroll",i):(r.el.removeEventListener("ps-scroll-x",i),r.el.removeEventListener("ps-scroll-y",i))),a.disconnect(),window.tutorialModel.foundComponents&&window.tutorialModel.foundComponents.items.some((e=>e.value.componentId===t))&&window.tutorialModel.onComponentDisposed({componentId:t,viewId:n})}}}})}))}return{updateComponents:()=>{pe.forEach((({el:t,scrollableContainer:n},o)=>{be({scrollableContainer:n,el:t,componentId:o,viewId:e})}))}}};engine.on("initialJSExecuted",(()=>{const e=we(window.__featureId.toString());window.tutorialApi=e}))})()})();